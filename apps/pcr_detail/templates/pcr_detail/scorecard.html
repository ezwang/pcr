{% load prettify %}
{% if reviews|length > 0 %}
<div id="banner-score">
    <div class="scoreboxrow">
      <div class="scoredesc">
        <p class="title">Average</p>
        <p class="subtitle">{{reviews|length}} Section{{reviews|length|pluralize}}</p>
      </div>
      
      <div class="scorebox">
        <p class="num">{{reviews|average:"rCourseQuality"|floatformat:1}}</p>
        <p class="desc">Course</p>
      </div>
      <div class="scorebox-shadow"></div>

      <div class="scorebox">
        <p class="num">{{reviews|average:"rInstructorQuality"|floatformat:1}}</p>
        <p class="desc">Instructor</p>
      </div>
      <div class="scorebox-shadow"></div>      

      <div class="scorebox">
        <p class="num">{{reviews|average:"rDifficulty"|floatformat:1}}</p>
        <p class="desc">Difficulty</p>
      </div>
      <div class="scorebox-shadow"></div>

    </div>
    <div class="scoreboxrow">
      {% with recent=reviews|recent %}
      <div class="scoredesc">
        <p class="title">Most Recent</p>
        <p class="subtitle">{{recent.section.course.semester|semester}}</p>
      </div>
      
      <div class="scorebox">
        <p class="num">{{recent.ratings.rCourseQuality|floatformat:1}}</p>
        <p class="desc">Course</p>
      </div>
      <div class="scorebox-shadow"></div>
      
      <div class="scorebox">
        <p class="num">{{recent.ratings.rInstructorQuality|floatformat:1}}</p>
        <p class="desc">Instructor</p>
      </div>
      <div class="scorebox-shadow"></div>
      
      <div class="scorebox">
        <p class="num">{{recent.ratings.rDifficulty|floatformat:1}}</p>
        <p class="desc">Difficulty</p>
      </div>
      <div class="scorebox-shadow"></div>
      {% endwith %}
    </div>
</div>
{% endif %}
